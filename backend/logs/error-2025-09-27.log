{"timestamp":"2025-09-27 00:01:44","level":"error","message":"Application Error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Event\"","requestId":"61aac516-ee76-4563-99dc-fc6e10d76250","method":"PUT","url":"/api/events/undefined","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Event\"\n    at ObjectId.cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOneAndUpdate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:3319:8)\n    at model.Query.exec (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/alex/dev/orienteering_quiz_app/backend/routes/events.js:559:19","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 00:01:49","level":"error","message":"Application Error Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Event\"","requestId":"1cf5fab0-f417-4273-a408-18c8b5cb64c7","method":"PUT","url":"/api/events/undefined","stack":"CastError: Cast to ObjectId failed for value \"undefined\" (type string) at path \"_id\" for model \"Event\"\n    at ObjectId.cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/objectid.js:250:11)\n    at SchemaType.applySetters (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1219:12)\n    at SchemaType.castForQuery (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1633:15)\n    at cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/cast.js:389:32)\n    at Query.cast (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:4927:12)\n    at Query._castConditions (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:2237:10)\n    at model.Query._findOneAndUpdate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:3319:8)\n    at model.Query.exec (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/query.js:4447:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/alex/dev/orienteering_quiz_app/backend/routes/events.js:559:19","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 00:06:43","level":"error","message":"Application Error Event validation failed: organization: `华农` is not a valid enum value for path `organization`.","requestId":"d35f55aa-fdb5-4b0a-80e6-30dd0d8ba45c","method":"POST","url":"/api/events","stack":"ValidationError: Event validation failed: organization: `华农` is not a valid enum value for path `organization`.\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 00:06:57","level":"error","message":"Application Error Event validation failed: organization: `华农` is not a valid enum value for path `organization`.","requestId":"7b9a0e26-d7e1-45be-bb8b-a683451729d3","method":"POST","url":"/api/events","stack":"ValidationError: Event validation failed: organization: `华农` is not a valid enum value for path `organization`.\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 00:09:13","level":"error","message":"Application Error Event validation failed: organization: `华农` is not a valid enum value for path `organization`.","requestId":"709ea6cc-8d63-46ab-b183-220c5a9932ea","method":"POST","url":"/api/events","stack":"ValidationError: Event validation failed: organization: `华农` is not a valid enum value for path `organization`.\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.100.3 Chrome/132.0.6834.210 Electron/34.5.1 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 15:05:18","level":"error","message":"Application Error Cannot read properties of undefined (reading 'toLocaleString')","requestId":"0211728f-fd93-4dfb-9e61-a26a9c379199","method":"GET","url":"/api/registrations/event/68c58d4782eaf0375a9df722/export","stack":"TypeError: Cannot read properties of undefined (reading 'toLocaleString')\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:1036:57\n    at Array.forEach (<anonymous>)\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:1024:19\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-27 15:57:24","level":"error","message":"Application Error targetRegistration is not defined","requestId":"6878d1f8-68c8-43ca-9db4-a32fa5c3b014","method":"POST","url":"/api/registrations","stack":"ReferenceError: targetRegistration is not defined\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:157:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"axios/1.11.0","ip":"::1"}
{"timestamp":"2025-09-27 15:57:59","level":"error","message":"Application Error targetRegistration is not defined","requestId":"5838ef6f-4822-42b7-854d-fa4c6dcc63eb","method":"POST","url":"/api/registrations","stack":"ReferenceError: targetRegistration is not defined\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:157:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"axios/1.11.0","ip":"::1"}
{"timestamp":"2025-09-27 16:04:43","level":"error","message":"Application Error targetRegistration is not defined","requestId":"4c055094-1b16-48d4-a525-7184b10e49eb","method":"POST","url":"/api/registrations","stack":"ReferenceError: targetRegistration is not defined\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:157:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"axios/1.11.0","ip":"::1"}
{"timestamp":"2025-09-27 16:09:48","level":"error","message":"Invalid game type detected","requestId":"9c9216b6-50ab-4655-8061-6f9797100fd1","gameTypeName":"短距离","validEventGameTypes":[],"gameTypeObject":{"name":"短距离","group":"小黑马"}}
{"timestamp":"2025-09-27 23:40:31","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type or invalid captain count","requestId":"77ea4165-7f0e-4bcc-8f71-77f507224cb5","method":"POST","url":"/api/registrations","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type or invalid captain count\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"axios/1.11.0","ip":"::1"}
