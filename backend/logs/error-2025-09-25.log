{"timestamp":"2025-09-25 07:31:29","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"0f921c80-5190-4b2a-9fb5-f28ee238c257","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15","ip":"::1"}
{"timestamp":"2025-09-25 07:31:29","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"c7a116cd-3852-490a-8c96-82dc02364dfe","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15","ip":"::1"}
{"timestamp":"2025-09-25 07:31:40","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"b8875128-719e-4405-a338-0db2cc087210","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15","ip":"::1"}
{"timestamp":"2025-09-25 07:31:40","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"199d5f83-9709-4088-babb-d56d153a7ad9","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15","ip":"::1"}
{"timestamp":"2025-09-25 07:32:31","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"e3305b59-76af-424a-9fd8-98a04e2aba95","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:32:31","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"52eb5ad2-e1b7-46f1-9395-c59cf8e28b75","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:33:27","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"53854024-1621-46cc-bb09-1ab2dc10e423","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:33:27","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"58d56ee0-7685-4d87-b9b1-bf2eee0368a3","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:36:33","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"2b85dc2e-cf75-4cdf-97b9-0103a1d9fea5","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"curl/8.7.1","ip":"::1"}
{"timestamp":"2025-09-25 07:37:04","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')","requestId":"6eb6e5fc-1953-4a51-87bd-c9f1d2460fa7","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Cannot read properties of undefined (reading 'team')\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"curl/8.7.1","ip":"::1"}
{"timestamp":"2025-09-25 07:37:26","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"2dc281cd-a16d-4316-bb9a-1604e0387456","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"curl/8.7.1","ip":"::1"}
{"timestamp":"2025-09-25 07:38:30","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"bf111beb-d416-4234-8477-e72b9b6d2216","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"curl/8.7.1","ip":"::1"}
{"timestamp":"2025-09-25 07:48:53","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"94bb5c54-e71c-419b-9ac6-e77902224fb8","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:48:53","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"56e7b66e-c4da-4426-ba30-abba58e736eb","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:49:13","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"f032db1a-4ef6-4c79-9e14-4bf692ec7957","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:49:13","level":"error","message":"Application Error EventRegistration validation failed: gameTypes: Invalid team members format for game type","requestId":"9cb5c974-0e5f-419a-8c72-4cc40759f3a6","method":"POST","url":"/api/registrations/join-relay","stack":"ValidationError: EventRegistration validation failed: gameTypes: Invalid team members format for game type\n    at Document.invalidate (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3219:32)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/document.js:3012:17\n    at cb (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schema/documentarray.js:235:14)\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:56:41","level":"error","message":"Application Error No matching document found for id \"68d47f45415ee12b265950e6\" version 1 modifiedPaths \"gameTypes\"","requestId":"a02cfeaa-4c71-4e02-9725-d0a699e2b7ba","method":"POST","url":"/api/registrations/join-relay","stack":"VersionError: No matching document found for id \"68d47f45415ee12b265950e6\" version 1 modifiedPaths \"gameTypes\"\n    at generateVersionError (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/model.js:465:10)\n    at model.save (/Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongoose/lib/model.js:522:28)\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:1012:26\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 07:58:05","level":"error","message":"Application Error E11000 duplicate key error collection: orienteeringx.eventregistrations index: eventId_1_studentId_1 dup key: { eventId: ObjectId('68c58d4782eaf0375a9df722'), studentId: ObjectId('68cc2fd0532158c4fe442576') }","requestId":"f131d7d6-d9d4-4899-8ba0-6e3c32284843","method":"POST","url":"/api/registrations/join-relay","stack":"MongoServerError: E11000 duplicate key error collection: orienteeringx.eventregistrations index: eventId_1_studentId_1 dup key: { eventId: ObjectId('68c58d4782eaf0375a9df722'), studentId: ObjectId('68cc2fd0532158c4fe442576') }\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongodb/lib/operations/insert.js:50:33\n    at /Users/alex/dev/orienteering_quiz_app/backend/node_modules/mongodb/lib/operations/command.js:84:64\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 08:05:59","level":"error","message":"Application Error User is not defined","requestId":"f840f7b5-3d93-42b8-a090-f39b637ef187","method":"POST","url":"/api/registrations/invite-info","stack":"ReferenceError: User is not defined\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:916:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
{"timestamp":"2025-09-25 08:05:59","level":"error","message":"Application Error User is not defined","requestId":"296454ce-70ee-497a-b528-53d2e0322490","method":"POST","url":"/api/registrations/invite-info","stack":"ReferenceError: User is not defined\n    at /Users/alex/dev/orienteering_quiz_app/backend/routes/registrations.js:916:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"}
